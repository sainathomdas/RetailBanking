{% extends 'base.html' %}

{% block title %} Mars | Update Customer {% endblock %}

{% block content %}

{% if search %}
<div class="wrapper">
	<div class="title mt-5">
		Update Customer
	</div>


	<form action=" {{ url_for('updateCustomer') }} " method="POST" data-parsley-validate>
		<div class="form">
			<div class="inputfield">
				<div class="row">
					<div class="col-md-3">
						<label for="" class="pt-2">Input Type</label>
					</div>
					<div class="col-md-4">
						<div class="custom_select">
							<select name="input_type" required>
								<option value="cust_id">Customer ID</option>
								<option value="ssn_id">SSN ID</option>
							</select>
						</div>
					</div>
					<div class="input-group form-sm  form-2 pl-0 col-md-5 ">
						<input name="id" class="form-control my-0 py-1 " type="text" placeholder="Enter ID"
							aria-label="Search" required style="border: 1px solid black;" minlength="9" maxlength="9" data-parsley-type="integer">
						<div class="input-group-append">
							<button type="submit" style="border: 1px solid black;"><span class="input-group-text "
									id="basic-text1"><i class="fas fa-search text-grey"
										aria-hidden="true"></i></span></button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</form>

	<hr class="w-100 mt-4">
</div>
{% endif %}



{% include "includes/flash_message.html" %}

{% if data %}
<div class="title mt-5">
	Update Customer
</div>

<div class="wrapper mt-5">
	<form action=" {{ url_for('updateIntoDatabase') }} " method="POST" data-parsley-validate>
		<div class="form">
			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_ssid">Customer SSN ID <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<input type="number" name="cust_ssid" class="input form-control-sm disabled" value={{data.ssnid}} readonly>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_id">Customer ID </label>
					</div>
					<div class="col-md-8">
						<input type="number" name="cust_id" class="input form-control-sm disabled" value={{data.custid}} readonly>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_old_name">Old Customer Name</label>
					</div>
					<div class="col-md-8">
						<input type="text" name="cust_old_name" class="input form-control-sm disabled" value={{data.name}} readonly>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_new_name">New Customer Name <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<input type="text" name="cust_new_name" class="input form-control-sm" required>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_old_age">Old Age </label>
					</div>
					<div class="col-md-8">
						<input type="number" name="cust_old_age" class="disabled input form-control-sm" value={{data.age}} readonly>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_new_name">New Age <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<input name="cust_new_age" class="input form-control-sm" data-parsley-type="number"
							data-parsley-type="integer" maxlength="3" required>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_old_address">Old Address </label>
					</div>
					<div class="col-md-8">
						<textarea class="textarea form-control-sm disabled" name="cust_old_address" readonly>{{data.address}}</textarea>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_new_address">New Address <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<textarea name="cust_new_address" class="textarea form-control-sm" required></textarea>
					</div>
				</div>
			</div>

			<input type="hidden" name="country" id="countryId" value="IN" />

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_state">State <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<div class="custom_select ">
							<select onchange="print_city('state', this.selectedIndex);" id="sts" name ="cust_state" class="form-control" required></select>
						</div>
					</div>
				</div>
			</div>

			<div class="inputfield">
				<div class="row">
					<div class="col-md-4">
						<label for="cust_city">City <span class="star">*</span> </label>
					</div>
					<div class="col-md-8">
						<div class="custom_select ">
							<select id ="state" class="form-control" name="cust_city" required></select>
						</div>
					</div>
				</div>
			</div>


			<span class="star font-small font-weight-bolder ml-1 mt-0 pt-0"> (*) Fields are compulsory</span>

			<div>
				<input type="submit" value="Update" class="btn btn-sm black gold-text">
				<input type="reset" value="Reset" class="ml-lg-5 btn btn-sm black white-text">
			</div>

		</div>

	</form>
</div>

<script language="javascript">print_state("sts");</script>

{% endif %}



{% endblock %}